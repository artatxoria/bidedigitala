---
const posts = import.meta.glob('./*.md', { eager: true });

export function getStaticPaths() {
  return Object.keys(posts).map((file) => {
    const slug = file.replace('./', '').replace(/\.md$/, '');
    return { params: { slug: [slug] } };
  });
}

const { slug } = Astro.params;
const post = posts[`./${slug[0]}.md`];
const { title, date } = post.frontmatter;
const Content = post.default;
---
<html lang="eu">
  <head>
    <meta charset="utf-8" />
    <title>{title}</title>
  </head>
  <body>
    <article>
      <h1>{title}</h1>
      <time dateTime={date}>{new Date(date).toLocaleDateString('eu-ES')}</time>
      <Content />
    </article>
  </body>
</html>

