---
// src/components/Problemas.astro
// Componente autocontenido con CSS y traducciones embebidas

export interface Props {
  lang: 'es' | 'eu';
}
const { lang } = Astro.props;

// Traducciones embebidas
const translations: Record<'es' | 'eu', {
  hero: { title: string; 
          duracion: string,
          descripcion: string; 
          objetivos: string; 
          li_1: string;
          li_2: string;
          li_3: string;
          li_4: string;
          li_5: string;
          //li_6: string;
          publico_obj: string;
          publico: string;
          mod: string;
          modalidad: string
        }
}> = {
  es: {
    hero: {
      title: 'Programación PHP con Conexión a Bases de Datos',
      duracion: '30 horas',
      descripcion: 'Las aplicaciones web modernas son inherentemente dinámicas y requieren interactuar con bases de datos para almacenar y gestionar información. Este curso profundiza en la conexión de PHP con los sistemas de bases de datos más populares, como MySQL y PostgreSQL, donde su empresa tiene una sólida experiencia. Sus equipos aprenderán a construir aplicaciones robustas capaces de gestionar datos de forma segura y eficiente, una habilidad indispensable para cualquier negocio que opere online y busque automatizar la gestión de información.',
      objetivos: 'Objetivos de Aprendizaje',
      li_1: "Establecer conexiones seguras entre PHP y bases de datos MySQL/PostgreSQL.",
      li_2: "Realizar operaciones CRUD (Crear, Leer, Actualizar, Borrar) sobre datos.",
      li_3: "Diseñar y optimizar consultas SQL para mejorar el rendimiento.",
      li_4: "Implementar mecanismos de seguridad para prevenir inyecciones SQL y otras vulnerabilidades.",
      li_5: 'Integrar sistemas de gestión de datos espaciales (PostGIS) en aplicaciones si es relevante para el cliente.',
      //li_6: 'Configurar un entorno de desarrollo PHP local (XAMPP/LAMP/Docker).',
      publico_obj: "Público Objetivo",
      publico: 'Desarrolladores PHP con conocimientos básicos que necesiten construir aplicaciones dinámicas con persistencia de datos, o profesionales IT que busquen optimizar la interacción entre sus sistemas web y sus bases de datos.',
      mod: 'Modalidad',
      modalidad: 'Online Síncrona o Presencial in-company'
    }
  },
  eu: {
    hero: {
      title: 'PHP programazioa datu-baseetarako konexioarekin',
      duracion: '30 ordu',
      descripcion: 'Web aplikazio modernoak berez dinamikoak dira, eta informazioa biltegiratzeko eta kudeatzeko datu-baseekin elkarreragina izatea eskatzen dute. Ikastaro honek PHPren eta datu-base sistema ezagunenen arteko konexioan sakontzen du, hala nola MySQL eta PostgreSQL, non bere enpresak esperientzia sendoa duen. Beren ekipoek aplikazio sendoak eraikitzen ikasiko dute, datuak modu seguruan eta efizientean kudeatzeko gai izango direnak, hau da, online jarduten duen eta informazioaren kudeaketa automatizatu nahi duen edozein negoziotarako ezinbesteko trebetasuna.',
      objetivos: 'Ikaskuntza Helburuak',
      li_1: "PHPren eta MySQL/PostgreSQL datu-baseen arteko konexio seguruak ezartzea.",
      li_2: "Datuei buruzko CRUD eragiketak egitea (Sortu, Irakurri, Eguneratu, Ezabatu).",
      li_3: "SQL kontsultak diseinatzea eta optimizatzea, errendimendua hobetzeko.",
      li_4: "SQL injekzioak eta beste kalteberatasun batzuk prebenitzeko segurtasun-mekanismoak inplementatzea.",
      li_5: 'Datu espazialak kudeatzeko sistemak (PostGIS) aplikazioetan integratzea, bezeroarentzat garrantzitsua bada.',
      //li_6: 'Tokiko PHP garapen-ingurune bat konfiguratzea (XAMPP/LAMP/Docker).',
      publico_obj: "Xede Publikoa",
      publico: 'Desarrolladores PHP con conocimientos básicos que necesiten construir aplicaciones dinámicas con persistencia de datos, o profesionales IT que busquen optimizar la interacción entre sus sistemas web y sus bases de datos.',
      mod: 'Modalitatea',
      modalidad: 'Online Sinkronoa edo Enpresako Presentziala'
    }
  }
};

// Seleccionamos el diccionario según el idioma, fallback a español
const dict = translations[lang] || translations.es;
---
<style>
.card {
    background: var(--bg-white);
    background-color: rgb(227, 237, 245);
    padding: 2rem;
    border-radius: var(--border-radius);
    border: 1px solid var(--border-light);
    box-shadow: var(--shadow-lg);
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}


.card h3 {
    color: darkslategrey;
    margin-bottom: 1rem;
}

.card h4 {
    color: darkslategrey;
    margin-bottom: 1rem;
    font-size: 1.25rem;
}

.card strong {
    color: darkslategrey;
}
.card .objectives, .card .target, .card .modality {
    text-align: left;
    margin-bottom: 1rem;
}

.card ul{
    list-style: none;
    padding-left: 2rem;
    margin-bottom: 2rem;
}

.card:hover {
    transform: translateY(-5px);
    border-color: var(--primary-color);
    box-shadow: var(--shadow-lg);
}
</style>
    
<div class="card">
    <div class="cabecera">
        <h3 class="title">{dict.hero.title}</h3>
        <span class="duration">{dict.hero.duracion}</span>
    </div>
    
    <p class="description">{dict.hero.descripcion}</p>
    <div class="objectives">
        <h4>{dict.hero.objetivos}:</h4>
        <ul>
            <li>{dict.hero.li_1}</li>
            <li>{dict.hero.li_2}</li>
            <li>{dict.hero.li_3}</li>
            <li>{dict.hero.li_4}</li>
            <li>{dict.hero.li_5}</li>
        </ul>
    </div>
    <div class="target">
        <strong>{dict.hero.publico_obj}:</strong> {dict.hero.publico}
    </div>
    <div class="modality">
        <strong>{dict.hero.mod}:</strong> {dict.hero.modalidad}
    </div>
</div>